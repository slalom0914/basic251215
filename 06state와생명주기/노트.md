## state와 생명주기 

### state란?
```js
const [books, setBooks] = React.useState([])//배열
const [count, setCount] = React.useState(0)//정수
const [좋아요, 좋아요설정] = React.useState(0)
const [책제목, 책제목설정] = React.useState("리액트정석")//문자열
const [책, 책설정] = React.useState({"제목":"자바의정석", "저자":"홍길동"})//객체
```
정의: 컴포넌트(함수- arrow function -> rafce) 내부에서 관리되는 동적인 데이터 이다.
- 일반변수 와 state 차이는?
언제 사용하지? 
- 화면에 표시되는 내용 중 변경될 수 있는 값은 state로 관리함.
- 값이 바뀌면 React가 자동으로 다시 렌더링 한다.

### 왜 state가 필요한가?
- 사용자 행동에 따라 UI가 바뀌는 경우
- 내부 타이머 등으로 화면이 업데이트 되어야 할 때
- 폼 입력과 같이 실시간 변경이 필요한 경우

### 실습 예제 - 현재 시각 표시하기
매초 마다 다른 시간을 보여주기 위해 state를 사용할 수 있다.

실행 흐름
Clock 컴포넌트 마운트 -> setInterval 시작 -> 1초마다 setDate실행
-> Clock컴포넌트 언마운트 -> return함수 자동 실행 -> clearInterval(timer)
-> 완전 종료
```js
  //2) 생명주기 처리
  React.useEffect(() => {
    // componentDidMount역할
    const timer = setInterval(() => {
      //state 업데이트 한다.
      setDate(new Date())
    },1000) //두번째파라미터 자리에 mili sec단위 시간
    //componentWillUnmount 역할 (정리 함수)
    //해주는 일 : 컴포넌트가 사라질때, React자동으로 실행함
    //타이머 즉시 종료 -> 메모리 정상 해제
    return () => {
      clearInterval(timer)
    }
  },[]) //빈배열은 의존성 배열이다. - 최초 1회만 실행
```
정리 함수가 없는 경우
컴포넌트가 사라져도 타이머는 계속 살아 있다.
1초마다 계속 실행됨
이미 없는 컴포넌트의 setState를 계속 시도